<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GW IDE Splash Screen - Wave Animation</title>
    <style>
        /*
        * 1. General Setup: Dark/Neutral Background
        */
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;

            /* Background image setup */
            background-color: #1F1E1C;

            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            color: #CFCFCF;
            overflow: hidden;
        }
        .splash-image {
            width: 100vw;
            height: 100vh;
            object-fit: cover;  /* scales without distortion */
        }



        .splash-container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            transition: opacity 1s ease-out, visibility 1s;
            position: relative;
        }

        /*
        * 2. Branding Text Styling (Centered)
        */
        .ide-logo {
            font-size: 3.5em;
            font-weight: 200;
            letter-spacing: 5px;
            margin-bottom: 5px;
            color: #FFFFFF;
            text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            opacity: 0;
            animation: fadeIn 1s ease-out 0.5s forwards;
            z-index: 10;
        }

        /* Fade-in animation for the logo */
        @keyframes fadeIn {
            to { opacity: 1; }
        }

        /*
        * 3. Bottom-Left Studio Credit
        */
        .corner-credit {
            position: absolute;
            bottom: 15px;
            left: 15px;
            font-size: 0.75em;
            color: #5A5E61;
            opacity: 0;
            transition: opacity 1s ease-out;
            animation: fadeIn 1s ease-out 0.5s forwards;
        }

        /*
        * 4. Loading Message (Centered, above loader)
        */
        .ide-subtitle {
            font-size: 0.9em;
            color: #7A7A7A;
            margin-bottom: 80px;
            transition: opacity 0.3s ease-in-out;
            min-height: 1.2em;
            opacity: 0;
        }

        /* Class added by JS to fade in loading text/bar */
        .show-loading {
            opacity: 1;
        }

        /*
        * 5. Progress Bar (Loader)
        */
        .loader-container {
            position: absolute;
            bottom: 25%;
            width: 300px;
            max-width: 90%;
            height: 5px;
            background-color: #3C3F41;
            border-radius: 2px;
            overflow: hidden;
            opacity: 0; /* initially invisible */
            transition: opacity 0.5s ease-out;
            z-index: 100;
        }

        /* Fix: fade-in container when JS adds 'show-loading' */
        .loader-container.show-loading {
            opacity: 1;
        }

        .loader-bar {
            height: 100%;
            background-color: #4A90E2;
            width: 105%; /* wave animation */
            transform: translateX(-100%);
            animation: none; /* controlled by JS */
        }

        .animate-bar {
            animation: loading-progress 1400ms linear infinite;
        }

        .stop-animation {
            animation: none !important;
            transform: translateX(0) !important;
            width: 100%;
        }

        @keyframes loading-progress {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }


    </style>
</head>
<body>


<div class="splash-container" id="splash">
    <div>
        <h1 class="ide-logo">GW IDE v1.0.2.2</h1>

        <p class="ide-subtitle" id="loading-message">Initializing...</p>
    </div>

    <div class="loader-container" id="loader-container">
        <div class="loader-bar" id="loader-bar"></div>
    </div>

    <div class="corner-credit">
        Made by Golden Wings Studio
    </div>
</div>

<div id="main-app" style="display: none; font-size: 2em; color: white;">
</div>

<script>
    const width = window.innerWidth;
    const height = window.innerHeight;
    console.log(`Viewport size: ${width}x${height}`);

    // --- Configuration ---
    const MESSAGES = [
        "Preparing...",
        "Setting up core modules...",
        "Loading settings...",
        "Setting themes up",
        "Reading and checking settings",
        "Starting GW IDE...",
        "Launching GUI"
    ];
    const TOTAL_LOADING_TIME_MS = 7000; // 5 seconds for the entire cycle
    const STAGE_ONE_WAIT_MS = 2000;      // 2 seconds before loading starts
    // ---------------------

    // Calculate the time each message should be displayed
    const totalMessages = MESSAGES.length;
    const messageDisplayTime = TOTAL_LOADING_TIME_MS / totalMessages;

    // Get the DOM elements
    const messageElement = document.getElementById('loading-message');
    const loaderContainer = document.getElementById('loader-container');
    const loaderBar = document.getElementById('loader-bar');
    const splashScreen = document.getElementById('splash');
    const mainContent = document.getElementById('main-app');

    let currentMessageIndex = 0;

    // --- Core Functions ---

    /** Hides the splash screen and shows the main app content. */
    function hideSplashScreen() {
        // Stop animation and freeze the bar in place (looks "complete")
        loaderBar.classList.remove('animate-bar');
        loaderBar.classList.add('stop-animation');
        messageElement.textContent = "Complete.";

        // Fade out the splash screen
        splashScreen.style.opacity = '0';

        // After the fade-out transition:
        setTimeout(() => {
            splashScreen.style.display = 'none';
            mainContent.style.display = 'block';
        }, 1000);
    }

    /** Changes the loading message and advances the counter. */
    function updateLoadingMessage() {
        if (currentMessageIndex < totalMessages) {
            // Fade out text
            messageElement.style.opacity = 0;

            setTimeout(() => {
                // Change text and fade back in
                messageElement.textContent = MESSAGES[currentMessageIndex];
                messageElement.style.opacity = 1;
                currentMessageIndex++;

                // Call the next iteration
                setTimeout(updateLoadingMessage, messageDisplayTime);
            }, 300); // 300ms matches the CSS text transition
        } else {
            // All messages cycled through. The screen hide is managed by the 5s timer.
        }
    }

    // --- Startup Sequence ---

    // 1. Initial State: Set the very first message before the cycle begins.
    messageElement.textContent = "Initializing...";

    // 2. Stage 1: Wait 2 seconds for the logo and corner credit to appear.
    setTimeout(() => {
        // 3. Stage 2: Start the main loading animation

        // Fade in the loader bar and message
        loaderContainer.classList.add('show-loading');
        messageElement.classList.add('show-loading');

        // Start the horizontal wave animation now
        loaderBar.classList.add('animate-bar');

        // Begin the message cycling logic for the remaining messages
        setTimeout(updateLoadingMessage, messageDisplayTime);

        // --- SCHEDULE SCREEN HIDE (The 5-second cycle timer) ---
        setTimeout(hideSplashScreen, TOTAL_LOADING_TIME_MS);

    }, STAGE_ONE_WAIT_MS);

</script>

</body>
</html>